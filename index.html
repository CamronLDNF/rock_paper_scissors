<!DOCTYPE html>
<html>
<head>
<title>Rock Paper Scissors</title>
    <style>
        @import url('https://fonts.googleapis.com/css?family=Lato:400,700,900');

        @keyframes count-in {
            0% {
                transform: translateY(0)
            }
            60% {
                transform: translateY(-10px)
            }
            100% {
                transform: translateY(0)
            }
        }
        .count-in {
            animation: .5s  count-in 1000;
        }
        .container {
            font-family: 'Lato', sans-serif;
            width: 700px;
            margin: 0 auto;
            text-align: center;
            padding: 25px;
            background-color:hsla(216, 45%, 53%, 0.8);
            box-shadow: 0 0 34px 8px rgba(0,0,0,0.4);
            border-radius: 0.5rem;
            text-shadow: 0 3px 4px rgba(0,0,0,0.4);
            color: #fff;
        }
        h1 {
            margin-top: -2px;
            font-size: 3rem;
        }
        .img-computer {
            margin-top: 5px;
            width: 250px;
        }
        .choice {
            height: 150px;
        }
        .img-rock, .img-paper, .img-scissors {
            width: 130px;
            border: solid 1px rgba(0,0,0,0.1);
            box-shadow: 1px 1px 1px 0.5px #70c6e3;
            border-radius: 2rem;
            margin: 10px 7px;
            background-color: #527ebe;
        }
        .img-rock:hover, .img-paper:hover, .img-scissors:hover {
            background-color: #89a8d6;
            cursor: pointer;
        }
        .img-rock:active, .img-paper:active, .img-scissors:active {
            border-radius: 2.5rem;
            margin: 0.5rem;
            transition: all 0.05s ease;
        }
        .select-choice {
            display: inline-block;
        }
        #computer-says {
            height: 20px;
        }
        #result{
            height: 40px;
            font-size: 2rem;
            font-weight: 600;
            color: #f8c725;
        }
        #instruction {
            margin-top: 10px;
            font-size: 1.5rem;
        }
    </style>
    <!-- <script src="/src/js/rockpaperscissors.js" defer></script> -->
</head>
<body>
    <div class="container">

        <h1>Rock Paper Scissors</h1>

        <div class="computer">
            <div class="computerchoice"></div>
            <img class="img-computer" id="computerimage" src="http://is5.mzstatic.com/image/thumb/Purple118/v4/63/2e/de/632ede7d-21ce-050f-7629-b9f4f0d2f833/source/512x512bb.png">
            <p id="computer-says">Computer says:</p>
        </div>
        
        <div id="result"></div>

        <p id="instruction">Select your weapon of choice, amigo!</p>
        <div class="choice">
            <div class="select-choice count-in" id="rock">
                <img class="img-rock" src="https://res.cloudinary.com/itsellej/image/upload/v1533400140/rock-paper-scissors/rock.png">
            </div>
            <div class="select-choice count-in" id="paper">
                <img class="img-paper" src="https://res.cloudinary.com/itsellej/image/upload/v1533400143/rock-paper-scissors/paper.png">
            </div>
            <div class="select-choice count-in" id="scissors">
                <img class="img-scissors" src="https://res.cloudinary.com/itsellej/image/upload/v1533400144/rock-paper-scissors/scissors.png">
            </div>
        </div>

    </div>

    <script>

    const rockDiv = document.getElementById('rock');
    const paperDiv = document.getElementById('paper');
    const scissorsDiv = document.getElementById('scissors');
    const instruction = document.getElementById('instruction');

    let computerSays = document.getElementById('computer-says');
    let result = document.getElementById('result');
    let computerImage = document.getElementById('computerimage');

    const gameImage = "http://is5.mzstatic.com/image/thumb/Purple118/v4/63/2e/de/632ede7d-21ce-050f-7629-b9f4f0d2f833/source/512x512bb.png"
    const rockImage = "https://res.cloudinary.com/itsellej/image/upload/v1533400140/rock-paper-scissors/rock.png";
    const paperImage = "https://res.cloudinary.com/itsellej/image/upload/v1533400143/rock-paper-scissors/paper.png";
    const scissorsImage = "https://res.cloudinary.com/itsellej/image/upload/v1533400144/rock-paper-scissors/scissors.png";

    let computerChoice = getComputerChoice()
    let userChoice

    function getComputerChoice() {
        number = Math.floor(Math.random()*2)
        switch (number) {
        case 0:
        return 'rock';
        case 1:
        return 'paper';
        case 2:
        return 'scissors';}
    }

    function changeComputerImage(computerChoice) {
        if(computerChoice === 'rock') {
            computerImage.src = rockImage;
        } else if (computerChoice === 'paper') {
            computerImage.src = paperImage;
        } else if (computerChoice === 'scissors') {
            computerImage.src = scissorsImage;
        }
    }

    function resetGame() {
        setTimeout(function(){ computerImage.src = gameImage;
        // computerChoice = '';
        // userChoice = '';
        }, 1500);
    }

    function determineWinner(userChoice, computerChoice) {

        //  scenarios where there is a tie
        if (userChoice === computerChoice) {
            changeComputerImage(computerChoice);
            computerSays.innerHTML = '';
            instruction.innerHTML = 'Play again:';
            resetGame();
            return 'It\'s a tie!';
        };

        // scenarios where the player wins
        if ((userChoice === 'rock' && computerChoice === 'scissors') ||
            (userChoice === 'paper' && computerChoice === 'rock') ||
            (userChoice === 'scissors' && computerChoice === 'paper')) {
            changeComputerImage(computerChoice);
            computerSays.innerHTML = '';
            instruction.innerHTML = 'Play again:';
            resetGame();
            return 'You win!';
        };
        
        // all other scenarios, computer wins per automatic
        changeComputerImage(computerChoice);
        computerSays.innerHTML = '';
        instruction.innerHTML = 'Play again:';
        resetGame();
        return 'Sorry, the computer wins!';
    };

    rockDiv.addEventListener('click',function() {
    result.innerHTML = determineWinner("rock", computerChoice);
    });

    paperDiv.addEventListener('click', function() {
    result.innerHTML = determineWinner("paper", computerChoice);
    });

    scissorsDiv.addEventListener('click', function() {
    result.innerHTML = determineWinner("scissors", computerChoice);
    });

    </script>

</body>
</html>